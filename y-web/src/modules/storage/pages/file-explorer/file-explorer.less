@appMenubarHeight: 50px;

#page-storage-file-explorer {
  width: 100%;

  > .page-container {
    display: flex;
    align-items: flex-start;

    height: 100%;

    > .browser-container {
      display: flex;
      flex-direction: column;

      width: 100%;
      height: calc(100vh - @appMenubarHeight);

      > .top-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1em;

        flex-shrink: 0;

        padding: 1em;
      }

      > .browser-contents {
        padding: 0.5em 1em;

        height: 100%;

        box-sizing: border-box;

        overflow-y: overlay;

        &::-webkit-scrollbar {
          width: 8px;
        }

        &::-webkit-scrollbar-track {
          background: transparent;
        }

        &::-webkit-scrollbar-thumb {
          background: var(--color-border-15);

          border: 2px solid white;
          border-radius: 4px;
        }

        &::-webkit-scrollbar-thumb:hover {
          background: var(--color-border-2);
        }

        > .items {
          display: flex;

          flex-flow: wrap;
          gap: 0.8em;

          > .item {
            position: relative;

            width: 120px;

            height: fit-content;

            border-radius: 6px;

            background-color: var(--color-grey-15);

            transition: 0.15s;

            cursor: pointer;

            &.temporary-selected,
            &:hover {
              box-shadow: 0 0 0 1px var(--color-border-25),
                0 3px 15px rgba(21, 23, 46, 0.1);

              background-color: var(--color-grey-2);

              > .item-info {
                box-shadow: 0 0 0 1px var(--color-border-25);

                background-color: var(--color-grey-15);
              }
            }

            &:hover,
            &.selected {
              > .item-select-container {
                opacity: 1;
                pointer-events: all;
              }
            }

            &.selected {
              background-color: var(--color-primary-t-2);
              box-shadow: 0 0 0 2px var(--color-primary-t-2),
                0 3px 15px var(--color-primary-t-15);

              &:hover {
                background-color: var(--color-primary-t-25);

                box-shadow: 0 0 0 2px var(--color-primary-t-25),
                  0 3px 15px var(--color-primary-t-15);

                > .item-info {
                  background-color: var(--color-primary-o-1);
                }
              }

              > .item-info {
                background-color: var(--color-primary-o-1);
                box-shadow: none;
              }

              > .item-thumb {
                > .icon {
                  color: var(--color-primary-d-1);
                }
              }
            }

            &.temporary-selected {
              transform: scale(0.95);
            }

            > .item-select-container {
              position: absolute;
              z-index: 2;

              top: 0.5em;
              left: 0.5em;

              padding: 2px;

              background-color: rgba(255, 255, 255, 0.6);
              // box-shadow: 0 0 0 1px var(--color-border-2);

              border-radius: 6px;

              // hidden state
              opacity: 0;
              pointer-events: none;
            }

            > .item-thumb {
              position: relative;
              z-index: 0;

              width: 100%;
              height: 6em;

              border-top-right-radius: 6px;
              border-top-left-radius: 6px;

              transition: 0.15s;

              > .thumbnail {
                width: 100%;
                height: calc(100% + 4px);

                border-top-right-radius: inherit;
                border-top-left-radius: inherit;

                object-fit: cover;
              }

              > .icon {
                width: 100%;
                height: 100%;

                display: flex;
                align-items: center;
                justify-content: center;

                color: rgb(21, 23, 46);

                > * {
                  text-shadow: 2px 2px rgba(21, 23, 46, 0.2);
                }
              }
            }

            > .item-info {
              position: relative;
              z-index: 1;

              flex-shrink: 0;
              padding: 0.5em 0.75em;

              user-select: none;

              background-color: white;
              box-shadow: 0 0 0 1px var(--color-border-15);

              border-radius: 6px;

              transition: 0.15s;

              > .item-name {
                display: flex;
                align-items: flex-start;
                justify-content: space-between;

                font-size: var(--text-body);
                font-weight: 500;

                > .name-input {
                  color: var(--color-text);
                  font-size: var(--text-sm);
                  font-weight: 500;
                  font-family: "Inter", sans-serif;

                  border: none;
                  outline: none;

                  width: 100%;

                  background-color: transparent;
                }

                > .name {
                  white-space: nowrap;
                  overflow: hidden;
                  text-overflow: ellipsis;

                  color: var(--color-text);
                }

                > .extension {
                  flex-shrink: 0;

                  color: var(--color-text-grey-1);
                }
              }
            }
          }
        }
      }
    }

    > .side-panel {
      flex-shrink: 0;

      width: 220px;
      height: 100%;

      border-left: 1px solid var(--color-border-1);
    }
  }
}
